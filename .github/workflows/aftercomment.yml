name: aftercomment
on:
  issue_comment:
    types: [created]
    
permissions:
  contents: read
  id-token: write
  issues: write
  
jobs:

  build:
    name: Build
    runs-on: ubuntu-latest
    
    steps:
    - name: Discord notification 1
      if: |
        contains(github.event.issue.title, 'az-900')&&
          github.event.comment.user.login == github.event.issue.assignee.login&&
            contains(github.event.comment.body, '/ok')
      env:
        DISCORD_WEBHOOK: ${{ secrets.DISCORD_WEBHOOK_URL }}
      uses: Ilshidur/action-discord@master
      with:
        args: '${{ github.event.issue.user.login }}ë‹˜ì´ ì• ì €ê¸°ì´ˆ-az-900ê³¼ì •ì„ ë‹¬ì„±í•˜ì…¨ìŠµë‹ˆë‹¤.'
      
    - name: Discord notification 2
      if: |
        contains(github.event.issue.title, 'ai-900')&&
          github.event.comment.user.login == github.event.issue.assignee.login&&
            contains(github.event.comment.body, '/ok')
      env:
        DISCORD_WEBHOOK: ${{ secrets.DISCORD_WEBHOOK_URL }}
      uses: Ilshidur/action-discord@master
      with:
        args: '${{ github.event.issue.user.login }}ë‹˜ì´ ì• ì €aiê¸°ì´ˆ-ai-900ê³¼ì •ì„ ë‹¬ì„±í•˜ì…¨ìŠµë‹ˆë‹¤.'
        
    - name: Discord notification 3
      if: |
        contains(github.event.issue.title, 'dp-900')&&
          github.event.comment.user.login == github.event.issue.assignee.login&&
            contains(github.event.comment.body, '/ok')
      env:
        DISCORD_WEBHOOK: ${{ secrets.DISCORD_WEBHOOK_URL }}
      uses: Ilshidur/action-discord@master
      with:
        args: '${{ github.event.issue.user.login }}ë‹˜ì´ ì• ì €ë°ì´í„°ê¸°ì´ˆ-dp-900ê³¼ì •ì„ ë‹¬ì„±í•˜ì…¨ìŠµë‹ˆë‹¤.'
        
    - name: Discord notification 4
      if: |
        contains(github.event.issue.title, 'pl-900')&&
          github.event.comment.user.login == github.event.issue.assignee.login&&
            contains(github.event.comment.body, '/ok')
      env:
        DISCORD_WEBHOOK: ${{ secrets.DISCORD_WEBHOOK_URL }}
      uses: Ilshidur/action-discord@master
      with:
        args: '${{ github.event.issue.user.login }}ë‹˜ì´ íŒŒì›Œí”Œë«í¼ê¸°ì´ˆ-pl-900ê³¼ì •ì„ ë‹¬ì„±í•˜ì…¨ìŠµë‹ˆë‹¤.'
        
    - name: Discord notification 5
      if: |
        contains(github.event.issue.title, 'sc-900')&&
          github.event.comment.user.login == github.event.issue.assignee.login&&
            contains(github.event.comment.body, '/ok')
      env:
        DISCORD_WEBHOOK: ${{ secrets.DISCORD_WEBHOOK_URL }}
      uses: Ilshidur/action-discord@master
      with:
        args: '${{ github.event.issue.user.login }}ë‹˜ì´ ë³´ì•ˆê¸°ì´ˆ-sc-900ê³¼ì •ì„ ë‹¬ì„±í•˜ì…¨ìŠµë‹ˆë‹¤.'
        
    - name: Discord notification 6
      if: |
        contains(github.event.issue.title, 'ms-900')&&
          github.event.comment.user.login == github.event.issue.assignee.login&&
            contains(github.event.comment.body, '/ok')
      env:
        DISCORD_WEBHOOK: ${{ secrets.DISCORD_WEBHOOK_URL }}
      uses: Ilshidur/action-discord@master
      with:
        args: '${{ github.event.issue.user.login }}ë‹˜ì´ ms365ê¸°ì´ˆ-ms-900ê³¼ì •ì„ ë‹¬ì„±í•˜ì…¨ìŠµë‹ˆë‹¤.'
        
    - name: removelabel
      if: |
        github.event.comment.user.login == github.event.issue.assignee.login&&
          contains(github.event.comment.body, '/ok')
      uses: buildsville/add-remove-label@v2.0.0
      with:
        token: ${{secrets.GITHUB_TOKEN}}
        labels: verifying
        type: remove
        
    - name: addlabel
      if: |
        github.event.comment.user.login == github.event.issue.assignee.login&&
          contains(github.event.comment.body, '/ok')
      uses: buildsville/add-remove-label@v2.0.0
      with:
        token: ${{secrets.GITHUB_TOKEN}}
        labels: verifyied
        type: add
                 
    - name: comment and close Issue
      uses: peter-evans/close-issue@v3
      with:
        comment: |
          ì¶•í•˜í•©ë‹ˆë‹¤! ğŸ‰
